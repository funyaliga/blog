<!doctype html>
<html class="z-bxsbb">
<head>
<meta charset="UTF-8">
<title>解决IE6不支持position:fixed固定定位的bug</title>
<link rel="stylesheet" href="/css/fun.css" />
<link rel="stylesheet" href="/css/pygments.css" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="black">
<meta name="format-detection" content="telephone=no">
</head>
<body>
<header>
	<h1 id="logo">
		<a href="/"><img src="/img/logo.png" ></a>
		<p>DPS低，补血也不给力，又不能抗，总之基本上没什么害处_(:3」 ∠)_</p>
	</h1>
	<nav id="nav-switch">
		<label for="nav-toggle"></label>
		<input type="checkbox" name="nav-toggle" id="nav-toggle">
		<div class="i_warp">
			<i></i>
			<i></i>
			<i></i>
		</div>
		<div class="nav-menu">
			<ul>
				<li><a href="javascript:">About</a></li>
				<li><a href="javascript:">Link</a></li>
				<li><a href="javascript:">Work</a></li>
				<li><a href="javascript:">Music</a></li>
			</ul>
		</div>
	</nav>

</header>

    <section>
	
	<article>
		<div class="tit">
			<h2>解决IE6不支持position:fixed固定定位的bug</h2>
			<time><time datetime="2012-12-11T19:16:00+08:00">Dec. 11, 2012</time></time>
		</div>

		<div class="info">
			<div class="content"><h3>在IE6中实现 position:fixed; 的办法:</h3>

<p><strong>浏览器头部固定</strong></p>
<div class="highlight"><pre><code class="language-css" data-lang="css"><span class="nc">.fixed_top</span> <span class="p">{</span>
    <span class="k">position</span><span class="o">:</span> <span class="k">fixed</span><span class="p">;</span>
    <span class="k">top</span><span class="o">:</span> <span class="m">0px</span><span class="p">;</span>
<span class="p">}</span>
<span class="c">/* IE6 头部固定 */</span>
<span class="o">*</span> <span class="nt">html</span> <span class="nc">.fixed_top</span> <span class="p">{</span>
    <span class="k">position</span><span class="o">:</span> <span class="k">absolute</span><span class="p">;</span>
    <span class="k">bottom</span><span class="o">:</span> <span class="k">auto</span><span class="p">;</span>
    <span class="k">top</span><span class="o">:</span> <span class="n">expression</span><span class="p">(</span><span class="n">eval</span><span class="p">(</span><span class="n">document</span><span class="o">.</span><span class="n">documentElement</span><span class="o">.</span><span class="n">scrollTop</span><span class="p">));</span>
<span class="p">}</span>
</code></pre></div>
<!-- read more -->

<p><strong>浏览器底部固定</strong></p>
<div class="highlight"><pre><code class="language-css" data-lang="css"><span class="nc">.fixed_bottom</span><span class="p">{</span>
    <span class="k">position</span><span class="o">:</span> <span class="k">fixed</span><span class="p">;</span>
    <span class="k">bottom</span><span class="o">:</span> <span class="m">0px</span><span class="p">;</span>
<span class="p">}</span>
<span class="c">/* IE6 底部固定  */</span>
<span class="o">*</span> <span class="nt">html</span> <span class="nc">.fixed_bottom</span><span class="p">{</span>
    <span class="k">position</span><span class="o">:</span> <span class="k">absolute</span><span class="p">;</span>
    <span class="k">bottom</span><span class="o">:</span> <span class="k">auto</span><span class="p">;</span>
    <span class="k">top</span><span class="o">:</span> <span class="n">expression</span><span class="p">(</span><span class="n">eval</span><span class="p">(</span><span class="n">document</span><span class="o">.</span><span class="n">documentElement</span><span class="o">.</span><span class="n">scrollTop</span><span class="o">+</span><span class="n">document</span><span class="o">.</span><span class="n">documentElement</span><span class="o">.</span><span class="n">clientHeight</span><span class="o">-</span><span class="n">this</span><span class="o">.</span><span class="n">offsetHeight</span><span class="o">-</span><span class="p">(</span><span class="n">parseInt</span><span class="p">(</span><span class="n">this</span><span class="o">.</span><span class="n">currentStyle</span><span class="o">.</span><span class="n">marginTop</span><span class="o">,</span><span class="m">10</span><span class="p">)</span><span class="o">||</span><span class="m">0</span><span class="p">)</span><span class="o">-</span><span class="p">(</span><span class="n">parseInt</span><span class="p">(</span><span class="n">this</span><span class="o">.</span><span class="n">currentStyle</span><span class="o">.</span><span class="n">marginBottom</span><span class="o">,</span><span class="m">10</span><span class="p">)</span><span class="o">||</span><span class="m">0</span><span class="p">)));</span>
<span class="p">}</span>
</code></pre></div>
<p>这两段代码只能实现在最底部或最顶部，再配合margin可控制元素的位置</p>

<p><strong>另外还有两个，左侧固定和右侧固定</strong></p>
<div class="highlight"><pre><code class="language-css" data-lang="css"><span class="nc">.fixed_left</span> <span class="p">{</span><span class="k">position</span><span class="o">:</span><span class="k">fixed</span><span class="p">;</span><span class="k">right</span><span class="o">:</span><span class="k">auto</span><span class="p">;</span><span class="k">left</span><span class="o">:</span><span class="m">0px</span><span class="p">;}</span>
<span class="c">/* IE6 左侧固定 */</span>
<span class="o">*</span> <span class="nt">html</span> <span class="nc">.fixed_left</span><span class="p">{</span><span class="k">position</span><span class="o">:</span><span class="k">absolute</span><span class="p">;</span><span class="k">right</span><span class="o">:</span><span class="k">auto</span><span class="p">;</span><span class="k">left</span><span class="o">:</span><span class="n">expression</span><span class="p">(</span><span class="n">eval</span><span class="p">(</span><span class="n">document</span><span class="o">.</span><span class="n">documentElement</span><span class="o">.</span><span class="n">scrollLeft</span><span class="p">));}</span>
<span class="nc">.fixed_right</span> <span class="p">{</span><span class="k">position</span><span class="o">:</span><span class="k">fixed</span><span class="p">;</span><span class="k">right</span><span class="o">:</span><span class="m">0px</span><span class="p">;</span><span class="k">left</span><span class="o">:</span><span class="k">auto</span><span class="p">;}</span>
<span class="o">&lt;</span><span class="nt">br</span><span class="o">&gt;</span><span class="c">/* IE6 右侧固定 */</span> 
<span class="o">*</span> <span class="nt">html</span> <span class="nc">.fixed_right</span><span class="p">{</span><span class="k">position</span><span class="o">:</span><span class="k">absolute</span><span class="p">;</span><span class="k">right</span><span class="o">:</span><span class="k">auto</span><span class="p">;</span><span class="k">left</span><span class="o">:</span><span class="n">expression</span><span class="p">(</span><span class="n">eval</span><span class="p">(</span><span class="n">document</span><span class="o">.</span><span class="n">documentElement</span><span class="o">.</span><span class="n">scrollLeft</span><span class="o">+</span><span class="n">document</span><span class="o">.</span><span class="n">documentElement</span><span class="o">.</span><span class="n">clientWidth</span><span class="o">-</span><span class="n">this</span><span class="o">.</span><span class="n">offsetWidth</span><span class="p">)</span><span class="o">-</span><span class="p">(</span><span class="n">parseInt</span><span class="p">(</span><span class="n">this</span><span class="o">.</span><span class="n">currentStyle</span><span class="o">.</span><span class="n">marginLeft</span><span class="o">,</span><span class="m">10</span><span class="p">)</span><span class="o">||</span><span class="m">0</span><span class="p">)</span><span class="o">-</span><span class="p">(</span><span class="n">parseInt</span><span class="p">(</span><span class="n">this</span><span class="o">.</span><span class="n">currentStyle</span><span class="o">.</span><span class="n">marginRight</span><span class="o">,</span><span class="m">10</span><span class="p">)</span><span class="o">||</span><span class="m">0</span><span class="p">));}</span>
</code></pre></div>
<h3>IE6抖动问题的解决</h3>

<p>在实现页面滚动的时候，被固定定位的元素在IE6会出现闪动现象.</p>

<p><strong>解决方法：</strong></p>
<div class="highlight"><pre><code class="language-css" data-lang="css"><span class="o">*</span> <span class="nt">html</span><span class="o">,*</span> <span class="nt">html</span> <span class="nt">body</span> <span class="p">{</span>
    <span class="k">background-image</span><span class="o">:</span><span class="sx">url(about:blank)</span><span class="p">;</span>
    <span class="k">background-attachment</span><span class="o">:</span><span class="k">fixed</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div>
<p>或</p>
<div class="highlight"><pre><code class="language-css" data-lang="css"><span class="o">*</span> <span class="nt">html</span><span class="o">,*</span> <span class="nt">html</span> <span class="nt">body</span> <span class="p">{</span> 
    <span class="n">_text</span><span class="o">-</span><span class="k">overflow</span><span class="o">:</span><span class="n">ellipsis</span><span class="p">;</span> 
<span class="p">}</span>
</code></pre></div>
<p>查看demo：<a href="/demo/ie6_fixed_demo.html" target="_blank">ie6 fixed</a></p>
</div>
		</div>
		
		<div class="meta">

		
			<i>c</i>
			
				
			
				
					
				
			
			
				<a href="/category/web/" class="cate">前端</a>
			
		

		
		
		</div>
	</article>
</section>


<!-- 多说评论框 start -->
<div class="ds-thread" data-thread-key="12131" data-title="解决IE6不支持position:fixed固定定位的bug" data-url="/12131"></div>
<!-- 多说评论框 end -->
<!-- 多说公共JS代码 start (一个网页只需插入一次) -->
<script type="text/javascript">
var duoshuoQuery = {short_name:"funya"};
(function() {
	var ds = document.createElement('script');
	ds.type = 'text/javascript';ds.async = true;
	ds.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') + '//static.duoshuo.com/embed.unstable.js';
	ds.charset = 'UTF-8';
	(document.getElementsByTagName('head')[0] 
	 || document.getElementsByTagName('body')[0]).appendChild(ds);
})();
</script>
<link rel="stylesheet" href="/css/comment.css" />



<script src="/js/highlight/highlight.pack.js" type="text/javascript"></script>
<script>
hljs.initHighlightingOnLoad();
</script>
</body>
</html>

